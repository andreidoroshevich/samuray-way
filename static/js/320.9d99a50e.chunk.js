"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[320],{4320:function(t,n,e){e.r(n),e.d(n,{default:function(){return z}});var r=e(8683),s=e(5671),u=e(3144),i=e(136),o=e(5716),a=e(2791),c=e(4073),l="MyPosts_MainContent__bcUGb",d={item:"Post_item__w9INx"},f=e(184),p=function(t){return(0,f.jsx)("div",{className:d.MainContent,children:(0,f.jsxs)("div",{className:d.item,children:[(0,f.jsx)("img",{alt:"avatar",src:t.avatar}),t.message,(0,f.jsxs)("div",{children:["like ",t.likeQuantity]})]})})},h=e(704),m=e(6139),x=e(3079),v=e(4728),_=a.memo((function(t){var n=t.posts.map((function(t){return(0,f.jsx)(p,{id:t.id,message:t.message,avatar:t.avatar,likeQuantity:t.likeQuantity},t.id)}));return(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)(j,{onSubmit:function(n){t.addPost(n.newPostText)}}),(0,f.jsx)("div",{children:"New posts"}),n]})})),j=(0,h.Z)({form:"ProfileAddNewPostForm"})((function(t){var n=(0,x.D)(10);return(0,f.jsx)("form",{onSubmit:t.handleSubmit,children:(0,f.jsxs)("div",{children:["My posts",(0,f.jsxs)("div",{children:[(0,f.jsx)(m.Z,{component:v.g,name:"newPostText",validate:[x.C,n]}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add Post"})})]})]})})})),g=_,b=e(364),Z=(0,b.$j)((function(t){return{posts:t.posts.posts}}),(function(t){return{addPost:function(n){t((0,c.Wl)(n))}}}))(g),y=e(8388),S=e(4814),k=e(782),P=e(440),w=e(885),N=function(t){var n=(0,a.useState)(!0),e=(0,w.Z)(n,2),r=e[0],s=e[1],u=(0,a.useState)(t.status),i=(0,w.Z)(u,2),o=i[0],c=i[1];(0,a.useEffect)((function(){c(t.status)}),[t.status]);return(0,f.jsx)(f.Fragment,{children:r?(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){s(!1)},children:t.status})}):(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},value:o,autoFocus:!0,onBlur:function(){s(!0),t.updateStatus(o)}})})})},A=function(t){return t.profile?(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:k.Z.profile,children:[(0,f.jsx)("img",{alt:"ava",className:S.Z.userPhoto,src:null!==t.profile.photos.large?t.profile.photos.large:P}),(0,f.jsx)(N,{status:t.status,updateStatus:t.updateStatus}),(0,f.jsxs)("div",{className:k.Z.userInfoBlock,children:[(0,f.jsxs)("div",{children:[" ",t.profile.contacts.facebook]}),(0,f.jsx)("div",{children:t.profile.contacts.vk}),(0,f.jsx)("div",{children:t.profile.contacts.twitter}),(0,f.jsx)("div",{children:t.profile.contacts.instagram})]})]})}):(0,f.jsx)(y.Z,{})},C=function(t){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(A,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,f.jsx)(Z,{})]})},I=e(9271),B=e(2163),F=e(7781),U=function(t){return t.posts.profile},D=function(t){return t.posts.status},M=function(t){return t.auth.userId},T=function(t){return t.auth.isAuth},q=function(t){(0,i.Z)(e,t);var n=(0,o.Z)(e);function e(){return(0,s.Z)(this,e),n.apply(this,arguments)}return(0,u.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(C,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),e}(a.Component),z=(0,F.qC)((0,b.$j)((function(t){return{profile:U(t),status:D(t),authorizedUserId:M(t),isAuth:T(t)}}),{getUserProfile:c.et,getStatus:c.lR,updateStatus:c.Nf}),I.EN,B.D)(q)},4728:function(t,n,e){e.d(n,{I:function(){return d},g:function(){return l}});var r=e(8683),s=e(5987),u=(e(2791),"formsControls_error__cn73h"),i=e(184),o=["input","meta"],a=["input","meta"],c=function(t){var n=t.meta,e=t.children,r=n.touched&&n.error;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:r?u:"",children:e}),(0,i.jsx)("div",{className:u,children:r&&(0,i.jsx)("span",{children:n.error})})]})},l=function(t){var n=t.input,e=t.meta,u=(0,s.Z)(t,o);return(0,i.jsx)(c,{input:n,meta:e,children:(0,i.jsx)("textarea",(0,r.Z)((0,r.Z)({},n),u))})},d=function(t){var n=t.input,e=t.meta,u=(0,s.Z)(t,a);return(0,i.jsx)(c,{input:n,meta:e,children:(0,i.jsx)("input",(0,r.Z)((0,r.Z)({},n),u))})}},2163:function(t,n,e){e.d(n,{D:function(){return l}});var r=e(8683),s=e(5987),u=(e(2791),e(9271)),i=e(364),o=e(184),a=["isAuth"],c=function(t){return{isAuth:t.auth.isAuth}};function l(t){return(0,i.$j)(c)((function(n){var e=n.isAuth,i=(0,s.Z)(n,a);return e?(0,o.jsx)(t,(0,r.Z)({},i)):(0,o.jsx)(u.l_,{to:"/Login"})}))}},3079:function(t,n,e){e.d(n,{C:function(){return r},D:function(){return s}});var r=function(t){return t?void 0:"field is required"},s=function(t){return function(n){return n&&n.length>t?"Must be ".concat(t," characters or less"):void 0}}},4814:function(t,n){n.Z={userPhoto:"users_userPhoto__mInJU",tr:"users_tr__5Ab1b",photo:"users_photo__qeotk",name:"users_name__zYAtB",marginBottom:"users_marginBottom__cwPab",table:"users_table__gxOmt",status:"users_status__BhgCK",button:"users_button__cNRX6",span:"users_span__5-OgF",selectedPage:"users_selectedPage__K79wA",pages:"users_pages__LmijR",preloader:"users_preloader__SCbU7",paginatorButton:"users_paginatorButton__xhNm8"}},440:function(t,n,e){t.exports=e.p+"static/media/user-profile.29281f374994be554581.png"},885:function(t,n,e){e.d(n,{Z:function(){return s}});var r=e(181);function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,s,u=[],i=!0,o=!1;try{for(e=e.call(t);!(i=(r=e.next()).done)&&(u.push(r.value),!n||u.length!==n);i=!0);}catch(a){o=!0,s=a}finally{try{i||null==e.return||e.return()}finally{if(o)throw s}}return u}}(t,n)||(0,r.Z)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=320.9d99a50e.chunk.js.map